<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VyaparSetu | Mobile Profile</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        /* --- MOBILE OPTIMIZED DESIGN SYSTEM --- */
        :root {
            --almond: #F7EDE2;
            --deep-red: #540B0E;
            --brand-red: #9E2A2B;
            --ochre: #E09F3E;
            --teal: #335C67;
            --success: #2A9D8F;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--almond);
            color: var(--deep-red);
            padding: 15px; /* Reduced padding for mobile */
        }

        .card {
            background: #ffffff;
            border-radius: 24px;
            max-width: 100%;
            padding: 25px 20px;
            box-shadow: 0 15px 35px rgba(84, 11, 14, 0.08);
        }

        h2 { 
            color: var(--brand-red); 
            text-align: center; 
            margin-bottom: 5px; 
            font-weight: 800; 
            font-size: 1.5rem;
        }

        .status-pill {
            display: table;
            margin: 0 auto 20px;
            padding: 5px 12px;
            border-radius: 100px;
            font-weight: 700;
            font-size: 0.7rem;
            text-transform: uppercase;
            background: rgba(42, 157, 143, 0.1);
            color: var(--success);
            border: 1px solid var(--success);
        }

        /* --- STACKED INFO --- */
        .info-stack { margin-bottom: 25px; }
        .info-item {
            padding: 12px 0;
            border-bottom: 1px solid rgba(84, 11, 14, 0.05);
        }
        .info-item label { display: block; font-size: 0.75rem; font-weight: 600; color: var(--teal); margin-bottom: 2px; }
        .info-item span { display: block; font-weight: 700; font-size: 0.95rem; color: var(--deep-red); }

        /* --- COMPACT SCORE SECTION --- */
        .score-section {
            background: #FAFAFA;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 25px;
            text-align: center;
        }

        .gauge-wrapper { position: relative; width: 130px; height: 130px; margin: 0 auto; }
        .circle-svg { transform: rotate(-90deg); width: 100%; height: 100%; }
        .circle-svg circle { fill: none; stroke-width: 10; stroke-linecap: round; }
        .circle-svg .bg { stroke: #EEE; }
        .circle-svg .meter {
            stroke: var(--ochre);
            stroke-dasharray: 283;
            stroke-dashoffset: 70;
            transition: stroke-dashoffset 1s ease-in-out;
        }

        .score-val { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .score-val .num { display: block; font-size: 2rem; font-weight: 800; color: var(--deep-red); line-height: 1; }
        .score-val .tag { font-size: 0.65rem; font-weight: 700; color: var(--brand-red); opacity: 0.8; text-transform: uppercase; }

        /* --- MOBILE DOCUMENT LIST --- */
        .section-title { font-size: 0.9rem; font-weight: 800; margin-bottom: 12px; color: var(--deep-red); display: flex; align-items: center; gap: 8px; }
        .section-title::after { content: ""; flex: 1; height: 1px; background: var(--almond); }

        .doc-list { display: flex; flex-direction: column; gap: 10px; margin-bottom: 25px; }
        .doc-card {
            background: #FFF;
            border: 1.5px solid var(--almond);
            border-radius: 14px;
            padding: 12px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .doc-thumb { width: 40px; height: 40px; background: var(--almond); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
        .doc-name { font-size: 0.8rem; font-weight: 700; color: var(--teal); }

        /* --- TESTIMONIAL --- */
        .testimonial {
            background: var(--almond);
            padding: 15px;
            border-radius: 16px;
            margin-bottom: 25px;
        }
        .testimonial p { font-style: italic; font-size: 0.85rem; color: var(--teal); line-height: 1.4; margin-bottom: 8px; }
        .reviewer { display: flex; justify-content: space-between; align-items: center; }
        .reviewer-name { font-weight: 700; font-size: 0.75rem; color: var(--brand-red); }

        /* --- FIXED BOTTOM BUTTON --- */
        .btn-invest {
            display: block;
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, var(--ochre) 0%, var(--brand-red) 100%);
            color: white;
            text-decoration: none;
            text-align: center;
            border-radius: 14px;
            font-weight: 800;
            font-size: 1rem;
            box-shadow: 0 8px 20px rgba(158, 42, 43, 0.25);
        }
    </style>
</head>
<body>

<div class="card">
    <h2>Vendor Profile</h2>
    <div class="status-pill">âœ… Verified Member</div>

    <div class="info-stack">
        <div class="info-item"><label>Legal Name</label><span>{{ profile.vendor.username }}</span></div>
        <div class="info-item"><label>Primary Email</label><span>{{ profile.vendor.email }}</span></div>
        <div class="info-item"><label>Contact No.</label><span>{{ profile.vendor.phone }}</span></div>
    </div>

    <div class="score-section">
        <div class="gauge-wrapper">
            <svg class="circle-svg" viewBox="0 0 100 100">
                <circle class="bg" cx="50" cy="50" r="45"></circle>
                <circle class="meter" cx="50" cy="50" r="45"></circle>
            </svg>
            <div class="score-val">
                <span class="num">750</span>
                <span class="tag">CIBIL</span>
            </div>
        </div>
        <p style="margin-top: 10px; font-weight: 800; color: var(--success); font-size: 0.8rem;">EXCELLENT STANDING</p>
    </div>

    <div class="section-title">Verified Documents</div>
    <div class="doc-list">
        {% for doc in documents %}
        <a href="{{ doc.file.url }}" target="_blank" class="doc-card">
            <div class="doc-thumb">ðŸ“„</div>
            <span class="doc-name">{{ doc.title }}</span>
        </a>
        {% endfor %}
    </div>

    <div class="section-title">Investor Feedback</div>
    <div class="testimonial">
        <p>"Highly professional vendor with consistent performance metrics."</p>
        <div class="reviewer">
            <span class="reviewer-name">Rahul Sharma</span>
            <span style="color:var(--ochre); font-size:0.7rem;">â˜…â˜…â˜…â˜…â˜…</span>
        </div>
    </div>

    <a href="{% url 'invest_vendor' short_uid=profile.unique_id %}" class="btn-invest">Invest â‚¹5,000 Now</a>
</div>

</body>
</html>